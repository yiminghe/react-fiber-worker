(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{221:function(module,exports,__webpack_require__){module.exports=function(){return new Worker(__webpack_require__.p+"fbe42e64aa29cd1e3b03.worker.js")}},222:function(module,__webpack_exports__,__webpack_require__){"use strict";var dom_namespaceObject={};__webpack_require__.r(dom_namespaceObject),__webpack_require__.d(dom_namespaceObject,"createView",function(){return createView}),__webpack_require__.d(dom_namespaceObject,"setChildren",function(){return setChildren}),__webpack_require__.d(dom_namespaceObject,"updateView",function(){return updateView}),__webpack_require__.d(dom_namespaceObject,"manageChildren",function(){return manageChildren}),__webpack_require__.d(dom_namespaceObject,"callViewMethod",function(){return callViewMethod}),__webpack_require__.d(dom_namespaceObject,"measure",function(){return measure});__webpack_require__(48),__webpack_require__(14),__webpack_require__(49);var react=__webpack_require__(36),react_default=__webpack_require__.n(react),create_react_class=__webpack_require__(220),create_react_class_default=__webpack_require__.n(create_react_class),simple_worker=__webpack_require__(221),simple_worker_default=__webpack_require__.n(simple_worker),viewRegistry=(__webpack_require__(22),__webpack_require__(23),__webpack_require__(31),__webpack_require__(20),__webpack_require__(65),__webpack_require__(34),__webpack_require__(18),__webpack_require__(32),__webpack_require__(27),{}),rootViewRegistry={};__webpack_require__(25),__webpack_require__(66),__webpack_require__(68),__webpack_require__(51),__webpack_require__(117),__webpack_require__(26);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var tagMap={view:"div",text:"span"};function toStyleString(o){var s="";return Object.keys(o).forEach(function(k_){var k=k_.replace(/[A-Z]/g,function(m){return"-".concat(m.toLowerCase())});s+="".concat(k,":").concat(o[k_],";")}),s}function createView(bridge,tag,viewClass,rootTag,props){var node;"RCTRawText"===viewClass?node=document.createTextNode(props.text):(node=document.createElement(tagMap[viewClass]||viewClass),props&&Object.keys(props).forEach(function(k){var value=props[k];return value?("style"===k&&(value=toStyleString(value)),void node.setAttribute(k,value)):void node.removeAttribute(k)})),node.setAttribute&&node.setAttribute("data-reactTag",tag),node.reactTag=tag,viewRegistry[tag]=node}function setChildren(bridge,parentTag,tags){var parent=viewRegistry[parentTag];tags.map(function(t){return viewRegistry[t]}).forEach(function(c){parent.appendChild(c)})}function updateView(bridge,tag,viewClass,props){var node=viewRegistry[tag];"RCTRawText"===viewClass?node.nodeValue=props.text:props&&Object.keys(props).forEach(function(k){var value=props[k];return value?("style"===k&&(value=toStyleString(value)),void node.setAttribute(k,value)):void node.removeAttribute(k)})}function manageChildren(bridge,containerTag,moveFromIndices,moveToIndices,addChildReactTags,addAtIndices,removeAtIndices){var container=viewRegistry[containerTag],childNodes=container.childNodes;if(moveFromIndices.length){var from=childNodes[moveFromIndices[0]],dest=childNodes[moveToIndices[0]+1];dest?container.insertBefore(from,dest):container.appendChild(from)}else if(addChildReactTags.length){var newNode=viewRegistry[addChildReactTags[0]],_dest=childNodes[addAtIndices[0]];_dest?container.insertBefore(newNode,_dest):container.appendChild(newNode)}else if(removeAtIndices.length){var removeNode=childNodes[removeAtIndices[0]];removeNode&&container.removeChild(removeNode)}}function noop(){}function generateResponseFn(bridge,callbackId){return callbackId?function(response){bridge.postMessage({type:"callViewMethodResponse",response:response,callbackId:callbackId})}:noop}function callViewMethod(bridge,_ref){var reactTag=_ref.reactTag,method=_ref.method,_ref$args=_ref.args,args=void 0===_ref$args?[]:_ref$args,callback=generateResponseFn(bridge,_ref.callbackId),newArgs=[callback].concat(_toConsumableArray(args)),node=viewRegistry[reactTag];if(node)if(node[method])node[method].apply(node,_toConsumableArray(newArgs));else{var error="".concat(reactTag,":").concat(method," not found!");console.error(error),callback({error:error})}else{var _error="".concat(reactTag," not found!");console.error(_error),callback({error:_error})}}function measure(bridge,_ref2){var reactTag=_ref2.reactTag,callback=generateResponseFn(bridge,_ref2.callbackId),node=viewRegistry[reactTag];if(node){for(var clientRect=node.getBoundingClientRect(),rect={},rectProps=["left","right","top","bottom","width","height"],i=0;i<rectProps.length;i++)void 0!==clientRect[rectProps[i]]&&(rect[rectProps[i]]=clientRect[rectProps[i]]);rect.pageX=window.pageXOffset+rect.left,rect.pageY=window.pageYOffset+rect.top,callback(rect)}else{var error="".concat(reactTag," not found!");console.error(error),callback({error:error})}}function toTouchObject(touch){return{identifier:touch.identifier,pageX:touch.pageX,pageY:touch.pageY}}var map=[].map;function render_toConsumableArray(arr){return function render_arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function render_iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function render_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var globalRootTag=1,bindDOM=!1;function render(_ref){var bridge=_ref.bridge,appKey=_ref.appKey,rootView=_ref.rootView,initialProps=_ref.initialProps,rootTag=globalRootTag;globalRootTag+=10,rootViewRegistry[rootTag]=viewRegistry[rootTag]=rootView,rootView.__reactRootTag=rootTag,bindDOM||(bindDOM=!0,function bindDOMEvent(bridge){document.addEventListener("touchstart",function(e){var target=e.target,touches=map.call(e.touches,toTouchObject);touches.forEach(function(t){t.target=target.reactTag,t.timeStamp=e.timeStamp});var changedIndices=touches.map(function(t,i){return i});bridge.postMessage({type:"touchEvent",eventTopLevelType:"topTouchStart",changedIndices:changedIndices,touches:touches})}),document.addEventListener("click",function(e){var target=e.target;bridge.postMessage({type:"event",eventTopLevelType:"topClick",e:{target:target.reactTag,pageX:e.pageX,pageY:e.pageY}})})}(bridge),bridge.addEventListener("message",function(event){return function onDOMMessage(bridge,event){var _event$data=event.data,type=_event$data.type,_event$data$args=_event$data.args,args=void 0===_event$data$args?[]:_event$data$args;dom_namespaceObject[type]&&dom_namespaceObject[type].apply(dom_namespaceObject,[bridge].concat(render_toConsumableArray(args)))}(bridge,event)},!1)),bridge.postMessage({type:"mount",appKey:appKey,rootTag:rootTag,initialProps:initialProps})}var react_dom=__webpack_require__(133),react_dom_default=__webpack_require__.n(react_dom),Simple_ref=react_default.a.createElement("div",null),Simple=create_react_class_default()({componentDidMount:function componentDidMount(){var worker=new simple_worker_default.a;this.root=react_dom_default.a.findDOMNode(this);var div=document.createElement("div");this.root.appendChild(div),render({rootView:div,bridge:worker,appKey:"simple",initialProps:{time:(new Date).toString()}})},render:function(){return Simple_ref}});__webpack_exports__.a=Simple;Simple.__docgenInfo={description:"",methods:[]},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Simple.js"]={name:"Simple",docgenInfo:Simple.__docgenInfo,path:"stories/Simple.js"})},223:function(module,exports,__webpack_require__){__webpack_require__(224),__webpack_require__(327),module.exports=__webpack_require__(328)},328:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(25),__webpack_require__(18),__webpack_require__(14),__webpack_require__(26),__webpack_require__(27);var _storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(71);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.addParameters)({options:{theme:{brandTitle:"react-fiber-worker",brandUrl:"https://github.com/yiminghe/react-fiber-worker/"}}});var req=__webpack_require__(491);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(164)(module))},491:function(module,exports,__webpack_require__){var map={"./index.stories.js":492};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=491},492:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(36),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_Simple__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(222),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(71),_ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Simple__WEBPACK_IMPORTED_MODULE_1__.a,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("Welcome",module).add("simple",function(){return _ref})}.call(this,__webpack_require__(164)(module))}},[[223,1,2]]]);
//# sourceMappingURL=main.ebd7f566a74361806e2d.bundle.js.map